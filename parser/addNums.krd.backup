agent AddNums :

using module Trivial 

import addNums.decls 

local: 
  boolean added = false
  int finalsum 
 
init:
  pass

adding:
  pre:(!added)
  eff : 
      atomic:
         sum = sum + pid 
         numadded = numadded + 1
         added = true 
        
added:
  pre:(added && numadded < numAgents)
  eff :
      pass

finalsum:
  pre:(numadded == numAgents)
  eff :
      finalsum = sum 
